# Frende Backend Production Environment Variables
# This file contains production-specific configurations

# =============================================================================
# ENVIRONMENT CONFIGURATION
# =============================================================================
ENVIRONMENT=production
DEBUG=false
HOST=0.0.0.0
PORT=8000

# =============================================================================
# DATABASE CONFIGURATION (PostgreSQL with SSL)
# =============================================================================
# Database URL will be set by Render/Railway automatically
# Format: postgresql://username:password@host:port/database?sslmode=require
DATABASE_URL=${DATABASE_URL}

# Database connection pool settings for production
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=30
DATABASE_POOL_TIMEOUT=60

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
# JWT Configuration - MUST be changed in production
JWT_SECRET_KEY=${JWT_SECRET_KEY}
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=1440
REFRESH_TOKEN_EXPIRE_DAYS=30
TOKEN_ROTATION_ENABLED=true
MAX_ACTIVE_SESSIONS=5
TOKEN_FINGERPRINT_ENABLED=true

# Password hashing
BCRYPT_ROUNDS=12

# CORS Configuration for production
CORS_ORIGINS=https://frende-frontend.vercel.app,https://frende.vercel.app
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOW_HEADERS=Authorization,Content-Type,Accept,Origin,X-Requested-With
CORS_MAX_AGE=86400

# Security Headers Configuration
SECURITY_HEADERS_ENABLED=true
CSP_ENABLED=true
HSTS_ENABLED=true
HSTS_MAX_AGE=31536000
HSTS_INCLUDE_SUBDOMAINS=true
HSTS_PRELOAD=true

# Rate Limiting Configuration
RATE_LIMITING_ENABLED=true
RATE_LIMIT_DEFAULT=100
RATE_LIMIT_AUTH=5
RATE_LIMIT_UPLOAD=10
RATE_LIMIT_WEBSOCKET=10

# Request Size Limits
REQUEST_SIZE_LIMIT=10MB
UPLOAD_SIZE_LIMIT=30MB

# Security Monitoring
SECURITY_LOG_LEVEL=WARNING
SECURITY_MONITORING_ENABLED=true

# =============================================================================
# AI SERVICES CONFIGURATION
# =============================================================================
GEMINI_API_KEY=${GEMINI_API_KEY}
GEMINI_API_URL=https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent
AI_RATE_LIMIT_PER_MINUTE=60
AI_MAX_TOKENS_PER_REQUEST=1000

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE_PATH=/var/log/frende/app.log
LOG_ROTATION_SIZE=10MB
LOG_ROTATION_COUNT=5
LOG_RETENTION_DAYS=30

# Performance Monitoring Configuration
PERFORMANCE_MONITORING_ENABLED=true
SLOW_QUERY_THRESHOLD_MS=1000
API_RESPONSE_TIME_THRESHOLD_MS=5000

# Error Handling Configuration
ERROR_DETAILS_IN_PRODUCTION=false
ERROR_LOG_LEVEL=ERROR
ERROR_NOTIFICATION_ENABLED=true

# Request ID Configuration
REQUEST_ID_ENABLED=true
REQUEST_ID_HEADER=X-Request-ID

# Performance Headers Configuration
PERFORMANCE_HEADERS_ENABLED=true
RESPONSE_TIME_HEADER=X-Response-Time
PROCESSING_TIME_HEADER=X-Processing-Time

# Business Logic Configuration
SLOT_PURCHASE_COST=50
MIN_COMPATIBILITY_THRESHOLD=50
MAX_COMPATIBILITY_SCORE=100
DEFAULT_USER_SLOTS=2
MATCH_EXPIRATION_HOURS=48
TASK_EXPIRATION_HOURS=24
AUTO_GREETING_TIMEOUT_SECONDS=60
CHAT_MESSAGE_MAX_LENGTH=2000
PROFILE_TEXT_MAX_LENGTH=500

# =============================================================================
# EXTERNAL SERVICES
# =============================================================================
# Monitoring and analytics
SENTRY_DSN=${SENTRY_DSN}

# =============================================================================
# WEBSOCKET CONFIGURATION
# =============================================================================
WEBSOCKET_PING_INTERVAL=25
WEBSOCKET_PING_TIMEOUT=10

# =============================================================================
# TASK SYSTEM CONFIGURATION
# =============================================================================
MAX_TASKS_PER_MATCH=5
TASK_EXPIRATION_HOURS=24

# =============================================================================
# MATCHING SYSTEM CONFIGURATION
# =============================================================================
MATCH_EXPIRATION_DAYS=2
MIN_COMPATIBILITY_SCORE=50

# =============================================================================
# COIN SYSTEM CONFIGURATION
# =============================================================================
COINS_PER_TASK=10
COINS_PER_SLOT=50
